{
  "version": 3,
  "sources": [
    "react.es5.js"
  ],
  "names": [
    "AUmainNavMenu",
    "items",
    "linkComponent",
    "GenerateMenu",
    "menu",
    "map",
    "item",
    "link",
    "active",
    "text",
    "li",
    "className",
    "propTypes",
    "PropTypes",
    "arrayOf",
    "shape",
    "string",
    "node",
    "isRequired",
    "children",
    "array",
    "oneOfType",
    "func",
    "defaultProps",
    "IDvalue",
    "AUmainNavContent",
    "props",
    "onOpen",
    "afterOpen",
    "onClose",
    "afterClose",
    "attributeOptions",
    "toggleClasses",
    "bind",
    "removeClass",
    "addClass",
    "mainNavToggle",
    "toggle",
    "toggleAnimationState",
    "setState",
    "animating",
    "state",
    "auFocusTrapListenerTop",
    "auFocusTrapListenerBottom",
    "auKeyListener",
    "closed",
    "id",
    "event",
    "preventDefault",
    "prevProps",
    "prevState",
    "undefined",
    "mainNavContent",
    "speed",
    "element",
    "openingClass",
    "closingClass",
    "oldClass",
    "newClass",
    "classList",
    "remove",
    "replace",
    "RegExp",
    "split",
    "join",
    "add",
    "focusContent",
    "mainNavMenu",
    "querySelectorAll",
    "length",
    "focus",
    "overlayOpen",
    "window",
    "getComputedStyle",
    "mainNavOverlay",
    "getPropertyValue",
    "keyCode",
    "callbacks",
    "cancelBubble",
    "stopPropagation",
    "error",
    "overlay",
    "closeButton",
    "querySelector",
    "openButton",
    "focustrapTop",
    "focustrapBottom",
    "menuWidth",
    "offsetWidth",
    "ToggleClasses",
    "AUkeyListener",
    "AUfocusTrapListenerTop",
    "AUfocusTrapListenerBottom",
    "ToggleAnimationState",
    "style",
    "display",
    "AU",
    "animate",
    "Toggle",
    "property",
    "openSize",
    "closeSize",
    "prefunction",
    "left",
    "opacity",
    "postfunction",
    "setAttribute",
    "addEventListener",
    "document",
    "removeAttribute",
    "removeEventListener",
    "body",
    "React",
    "PureComponent",
    "dark",
    "bool",
    "alt",
    "number",
    "AUmainNav",
    "ariaLabel"
  ],
  "mappings": "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",
  "sourcesContent": [
    "/*! @gov.au/main-nav v1.0.7 */\n/***************************************************************************************************************************************************************\n *\n * mainNav function\n *\n * Horizontal list of links to key areas on the website. Usually located in the header.\n *\n **************************************************************************************************************************************************************/\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\n\nimport AU from '@gov.au/animate'; // interdependency with our animate lib\n\n\nimport AUlinkList from '@gov.au/link-list';\n// ES6 dependency: import AUlinkList from './link-list';\n\n\n// The following line will be replaced automatically with generic imports for the ES5 pipeline.\n// You can safely ignore this bit if you use this module with pancake\n//\nimport '../css/styles.css';\n\n\n/**\n * A menu inside the AUmainNav\n *\n * @param  {array}  items            - The links in an array containing text, location and active status\n * @param  {string} linkComponent    - The component used for the link\n */\nconst AUmainNavMenu = ({ items, linkComponent }) => {\n\t// Generate the menu\n\tconst GenerateMenu = ( items ) => {\n\t\tconst menu = items.map( item => {\n\t\t\tconst link =  item.active ? {\n\t\t\t\tlink: item.link,\n\t\t\t\ttext: item.text,\n\t\t\t\t'aria-current': 'page',\n\t\t\t\tli: {\n\t\t\t\t\tclassName: 'active',\n\t\t\t\t},\n\t\t\t} :\n\t\t\t{\n\t\t\t\tlink: item.link,\n\t\t\t\ttext: item.text,\n\t\t\t};\n\n\t\t\t// return the link, maybe with children\n\t\t\treturn link;\n\t\t});\n\n\t\treturn menu;\n\t}\n\n\t// Create the menu with children\n\treturn (\n\t\t<AUlinkList items={ GenerateMenu( items ) } linkComponent={ linkComponent } />\n\t);\n}\n\n\nAUmainNavMenu.propTypes = {\n\titems: PropTypes.arrayOf(\n\t\tPropTypes.shape({\n\t\t\tlink: PropTypes.string,\n\t\t\ttext: PropTypes.node.isRequired,\n\t\t\tchildren: PropTypes.array,\n\t\t})\n\t).isRequired,\n\tlinkComponent: PropTypes.oneOfType([ PropTypes.string, PropTypes.func ]),\n};\n\nAUmainNavMenu.defaultProps = {\n\tlinkComponent: 'a',\n};\n\n\n// This value gets increased for each navigation component\nlet IDvalue = 0;\n\n\nexport class AUmainNavContent extends React.PureComponent {\n\tconstructor( props ) {\n\t\tsuper( props );\n\n\t\tconst {\n\t\t\titems,\n\t\t\tclassName = '',\n\t\t\tchildren,\n\t\t\tlinkComponent,\n\t\t\tonOpen,\n\t\t\tafterOpen,\n\t\t\tonClose,\n\t\t\tafterClose,\n\t\t\t...attributeOptions\n\t\t} = props;\n\n\t\t// Functions\n\t\tthis.toggleClasses        = this.toggleClasses.bind( this );\n\t\tthis.removeClass          = this.removeClass.bind( this );\n\t\tthis.addClass             = this.addClass.bind( this );\n\t\tthis.mainNavToggle        = this.mainNavToggle.bind( this );\n\t\tthis.toggle               = this.toggle.bind( this );\n\t\tthis.toggleAnimationState = function() {\n\t\t\tthis.setState({ animating: !this.state.animating } )\n\t\t}.bind( this );\n\n\n\t\t// Event listeners\n\t\tthis.auFocusTrapListenerTop    = this.auFocusTrapListenerTop.bind( this );\n\t\tthis.auFocusTrapListenerBottom = this.auFocusTrapListenerBottom.bind( this );\n\t\tthis.auKeyListener             = this.auKeyListener.bind( this );\n\n\n\t\t// Variables\n\t\tthis.state = {\n\t\t\tclosed: true,\n\t\t\tanimating: false,\n\t\t};\n\n\n\t\t// Increase the ID so it's unique for each instance\n\t\tIDvalue += 1;\n\t\tthis.id = `au-main-nav-${ IDvalue }`;\n\t}\n\n\n\t/**\n\t * Toggle an main navigation on click\n\t *\n\t * @param  {event object} event - The event object of the click\n\t */\n\ttoggle( event ) {\n\t\tevent.preventDefault();\n\n\t\t// If the main menu is animating don't change toggle the menu\n\t\tif( this.state.animating ){\n\t\t\treturn;\n\t\t}\n\n\t\t// Toggle the menu's current state\n\t\tthis.setState({\n\t\t\tclosed: !this.state.closed,\n\t\t\tanimating: true,\n\t\t});\n\t}\n\n\n\t/**\n\t * componentDidUpdate - Update the component when it changes\n\t *\n\t * @param {*} prevProps - The previous property values\n\t * @param {*} prevState - The previous state values\n\t */\n\tcomponentDidUpdate( prevProps, prevState ){\n\t\tif( prevState !== undefined && this.state !== undefined && this.state.closed !== prevState.closed ) {\n\t\t\tthis.mainNavToggle( this.mainNavContent, this.props.speed, {\n\t\t\t\tonOpen: this.props.onOpen,\n\t\t\t\tafterOpen: this.props.afterOpen,\n\t\t\t\tonClose: this.props.onClose,\n\t\t\t\tafterClose: this.props.afterClose,\n\t\t\t});\n\t\t}\n\t}\n\n\n\t/**\n\t * IE8 compatible function for replacing classes on a DOM node\n\t *\n\t * @param  {object} element       - The DOM element we want to toggle classes on\n\t * @param  {string} openingClass  - The firstClass you want to toggle on the DOM node\n\t * @param  {string} closingClass  - The secondClass you want to toggle on the DOM node\n\t */\n\ttoggleClasses( element, state, openingClass, closingClass ) {\n\t\tif( state === 'opening' || state === 'open' ) {\n\t\t\tvar oldClass = openingClass || 'au-main-nav__content--closed';\n\t\t\tvar newClass = closingClass || 'au-main-nav__content--open';\n\t\t}\n\t\telse {\n\t\t\tvar oldClass = closingClass || 'au-main-nav__content--open';\n\t\t\tvar newClass = openingClass || 'au-main-nav__content--closed';\n\t\t}\n\n\t\tthis.removeClass( element, oldClass );\n\t\tthis.addClass( element, newClass );\n\t}\n\n\n\t/**\n\t * IE8 compatible function for removing a class\n\t *\n\t * @param  {object} element   - The DOM element we want to manipulate\n\t * @param  {object} className - The name of the class to be removed\n\t */\n\tremoveClass( element, className ) {\n\t\tif( element.classList ) {\n\t\t\telement.classList.remove( className );\n\t\t}\n\t\telse {\n\t\t\telement.className = element.className.replace( new RegExp(\"(^|\\\\b)\" + className.split(\" \").join(\"|\") + \"(\\\\b|$)\", \"gi\"), \" \" );\n\t\t}\n\t}\n\n\n\t/**\n\t * IE8 compatible function for adding a class\n\t *\n\t * @param  {object} element   - The DOM element we want to manipulate\n\t * @param  {object} className - The name of the class to be added\n\t */\n\taddClass( element, className ) {\n\t\tif( element.classList ) {\n\t\t\telement.classList.add( className );\n\t\t}\n\t\telse {\n\t\t\telement.className = element.className + \" \" + className;\n\t\t}\n\t}\n\n\n\t/**\n\t * auFocusTrapListenerTop - What happens when the focus trap top gets focus\n\t *\n\t * @param {event} event - the event\n\t */\n\tauFocusTrapListenerTop( event ) {\n\t\tvar focusContent = this.mainNavMenu.querySelectorAll( 'a, .au-main-nav__toggle' );\n\t\tfocusContent[ focusContent.length - 1 ].focus();\n\t}\n\n\n\t/**\n\t * auFocusTrapListenerBottom - What happens when the focus trap bottom gets focus\n\t *\n\t * @param {event} event - the event\n\t */\n\tauFocusTrapListenerBottom( event ) {\n\t\tvar focusContent = this.mainNavMenu.querySelectorAll( 'a, .au-main-nav__toggle' );\n\t\tfocusContent[ 0 ].focus();\n\t}\n\n\n\t/**\n\t * auKeyListener - What happens when a key gets pressed and the menu is open\n\t *\n\t * @param {event} event - the event\n\t */\n\tauKeyListener( event ) {\n\t\t// This should only close the menu when the menu is visibly open\n\t\tvar overlayOpen = window.getComputedStyle( this.mainNavOverlay ).getPropertyValue( 'display' );\n\n\t\t// Check the menu is open and visible and the escape key is pressed\n\t\tif( event.keyCode === 27 && overlayOpen === 'block' ) {\n\t\t\tthis.toggle( event );\n\t\t}\n\t}\n\n\n\t/**\n\t * Toggle a mainNav element\n\t *\n\t * @param  {string}  element  - The toggle for the main nav\n\t * @param  {integer} speed    - The speed in ms for the animation\n\t *\n\t */\n\tmainNavToggle( element, speed, callbacks ) {\n\t\t// stop event propagation\n\t\ttry {\n\t\t\twindow.event.cancelBubble = true;\n\t\t\tevent.stopPropagation();\n\t\t}\n\t\tcatch( error ) {}\n\n\t\t// check this once\n\t\tif( typeof callbacks != 'object' ) {\n\t\t\tcallbacks = {};\n\t\t}\n\n\n\t\t// Elements we modify\n\t\tvar menu            = this.mainNavMenu;\n\t\tvar overlay         = this.mainNavOverlay;\n\t\tvar closeButton     = element.querySelector( '.au-main-nav__toggle--close' );\n\t\tvar openButton      = element.querySelector( '.au-main-nav__toggle--open' );\n\t\tvar focustrapTop    = element.querySelector( '.au-main-nav__focus-trap-top' );\n\t\tvar focustrapBottom = element.querySelector( '.au-main-nav__focus-trap-bottom' );\n\n\t\tvar closed          = !this.state.closed;\n\t\tvar state           = closed ? 'opening' : '';\n\t\tvar menuWidth       = menu.offsetWidth;\n\n\n\t\t// Functions\n\t\tvar ToggleClasses             = this.toggleClasses;\n\t\tvar AUkeyListener             = this.auKeyListener;\n\t\tvar AUfocusTrapListenerTop    = this.auFocusTrapListenerTop;\n\t\tvar AUfocusTrapListenerBottom = this.auFocusTrapListenerBottom;\n\t\tvar ToggleAnimationState      = this.toggleAnimationState;\n\n\n\t\toverlay.style.display = 'block';\n\n\n\t\t(function( menu ) {\n\t\t\tAU.animate.Toggle({\n\t\t\t\telement: menu,\n\t\t\t\tproperty: 'left',\n\t\t\t\topenSize: 0,\n\t\t\t\tcloseSize: -1 * menuWidth,\n\t\t\t\tspeed: speed || 250,\n\t\t\t\tprefunction: function( ) {\n\t\t\t\t\t// Set these value immediately for transitions\n\t\t\t\t\tif( state === 'opening' ) {\n\t\t\t\t\t\tmenu.style.display    = 'block';\n\t\t\t\t\t\toverlay.style.left    = 0;\n\t\t\t\t\t\toverlay.style.opacity = 0.5;\n\n\t\t\t\t\t\t// run when opening\n\t\t\t\t\t\tif( typeof callbacks.onOpen === 'function' ) {\n\t\t\t\t\t\t\tcallbacks.onOpen();\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\toverlay.style.opacity = '0';\n\n\t\t\t\t\t\t// run when closing\n\t\t\t\t\t\tif( typeof callbacks.onClose === 'function' ) {\n\t\t\t\t\t\t\tcallbacks.onClose();\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tpostfunction: function(){\n\t\t\t\t\tif ( state === 'opening' ){\n\n\t\t\t\t\t\t// Move the focus to the close button\n\t\t\t\t\t\tcloseButton.focus();\n\n\n\t\t\t\t\t\t// Focus trap enabled\n\t\t\t\t\t\tfocustrapTop.setAttribute( \"tabindex\", 0 );\n\t\t\t\t\t\tfocustrapBottom.setAttribute( \"tabindex\", 0 );\n\n\n\t\t\t\t\t\tfocustrapTop.addEventListener( 'focus', AUfocusTrapListenerTop );\n\t\t\t\t\t\tfocustrapBottom.addEventListener( 'focus', AUfocusTrapListenerBottom );\n\n\t\t\t\t\t\t// Add key listener\n\t\t\t\t\t\tdocument.addEventListener( 'keyup', AUkeyListener );\n\n\t\t\t\t\t\tif( typeof callbacks.afterOpen === 'function' ) {\n\t\t\t\t\t\t\tcallbacks.afterOpen();\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\t// Move the focus back to the menu button\n\t\t\t\t\t\topenButton.focus();\n\n\t\t\t\t\t\t// Remove the focus trap\n\t\t\t\t\t\tfocustrapTop.removeAttribute( \"tabindex\" );\n\t\t\t\t\t\tfocustrapBottom.removeAttribute( \"tabindex\" );\n\n\n\t\t\t\t\t\t// Remove the event listeners\n\t\t\t\t\t\tfocustrapTop.removeEventListener( 'focus', AUfocusTrapListenerTop );\n\t\t\t\t\t\tfocustrapBottom.removeEventListener( 'focus', AUfocusTrapListenerBottom );\n\n\n\t\t\t\t\t\t// Remove the event listener for the keypress\n\t\t\t\t\t\tdocument.removeEventListener( 'keyup', AUkeyListener );\n\n\t\t\t\t\t\tif( typeof callbacks.afterClose === 'function' ) {\n\t\t\t\t\t\t\tcallbacks.afterClose();\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\n\t\t\t\t\t// Toggle classes\n\t\t\t\t\tToggleClasses( element, state );\n\t\t\t\t\tToggleClasses(\n\t\t\t\t\t\tdocument.body,\n\t\t\t\t\t\tstate,\n\t\t\t\t\t\t'au-main-nav__scroll--unlocked',\n\t\t\t\t\t\t'au-main-nav__scroll--locked',\n\t\t\t\t\t);\n\n\n\t\t\t\t\t// Reset inline styles\n\t\t\t\t\tmenu.style.display    = '';\n\t\t\t\t\tmenu.style.left       = '';\n\t\t\t\t\toverlay.style.display = '';\n\t\t\t\t\toverlay.style.left    = '';\n\t\t\t\t\toverlay.style.opacity = '';\n\n\n\t\t\t\t\t// Toggle the animating state to false so that we can allow toggling again\n\t\t\t\t\tToggleAnimationState();\n\t\t\t\t},\n\t\t\t});\n\t\t})( menu );\n\t}\n\n\n\trender(){\n\t\treturn (\n\t\t\t<div\n\t\t\t\tid={ this.id }\n\t\t\t\tclassName=\"au-main-nav__content\"\n\t\t\t\tref={ mainNavContent => { this.mainNavContent = mainNavContent }}>\n\t\t\t\t<button\n\t\t\t\t\taria-controls={ this.id }\n\t\t\t\t\tonClick={ ( event ) => this.toggle( event ) }\n\t\t\t\t\tclassName=\"au-main-nav__toggle au-main-nav__toggle--open\">\n\t\t\t\t\tMenu\n\t\t\t\t</button>\n\t\t\t\t<div\n\t\t\t\t\tclassName=\"au-main-nav__menu\"\n\t\t\t\t\tref={ mainNavMenu => { this.mainNavMenu = mainNavMenu }}\n\t\t\t\t\t>\n\t\t\t\t\t<div className=\"au-main-nav__menu-inner\">\n\t\t\t\t\t\t<div className=\"au-main-nav__focus-trap-top\"></div>\n\t\t\t\t\t\t<button\n\t\t\t\t\t\t\taria-controls={ this.id }\n\t\t\t\t\t\t\tonClick={ ( event ) => this.toggle( event ) }\n\t\t\t\t\t\t\tclassName=\"au-main-nav__toggle au-main-nav__toggle--close\">\n\t\t\t\t\t\t\tClose\n\t\t\t\t\t\t</button>\n\t\t\t\t\t\t<AUmainNavMenu\n\t\t\t\t\t\t\tlinkComponent={ this.props.linkComponent }\n\t\t\t\t\t\t\titems={ this.props.items }\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t{ this.props.children }\n\t\t\t\t\t\t<div className=\"au-main-nav__focus-trap-bottom\"></div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div\n\t\t\t\t\taria-controls={ this.id }\n\t\t\t\t\tref={ mainNavOverlay => { this.mainNavOverlay = mainNavOverlay }}\n\t\t\t\t\tonClick={ ( event ) => this.toggle( event ) }\n\t\t\t\t\tclassName=\"au-main-nav__overlay\"></div>\n\t\t\t</div>\n\t\t);\n\t}\n};\n\nAUmainNavContent.propTypes = {\n\tdark: PropTypes.bool,\n\talt: PropTypes.bool,\n\tchildren: PropTypes.node,\n\tspeed: PropTypes.number,\n\tonOpen: PropTypes.func,\n\tafterOpen: PropTypes.func,\n\tonClose: PropTypes.func,\n\tafterClose: PropTypes.func,\n\tclassName: PropTypes.string,\n};\n\n\nconst AUmainNav = ({ dark, alt, className, ariaLabel, children, ...attributeOptions }) => (\n\t<nav\n\t\tclassName={\n\t\t\t'au-main-nav ' +\n\t\t\t`${ dark ? ' au-main-nav--dark' : '' }` +\n\t\t\t`${ alt ? ' au-main-nav--alt' : '' }` +\n\t\t\t`${ className ? ' ' + className : '' }`\n\t\t}\n\t\taria-label = { ariaLabel }\n\t\t{ ...attributeOptions }\n\t>\n\t\t{ children }\n\t</nav>\n);\n\nAUmainNav.propTypes = {\n\tdark: PropTypes.bool,\n\talt: PropTypes.bool,\n\tariaLabel: PropTypes.string,\n\tchildren: PropTypes.node.isRequired,\n};\n\nAUmainNav.defaultProps = {\n\tariaLabel: 'main',\n};\n\nexport default AUmainNav;\n"
  ]
}